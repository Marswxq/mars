import{_ as t,c as p,a,b as e,w as l,d as r,r as c,o as d,e as i}from"./app-CKtXyHQO.js";const o={},u={class:"table-of-contents"};function v(m,s){const n=c("router-link");return d(),p("div",null,[s[61]||(s[61]=a("h1",{id:"linux-常用",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#linux-常用"},[a("span",null,"Linux 常用")])],-1)),s[62]||(s[62]=a("p",null,[a("strong",null,"目录")],-1)),a("nav",u,[a("ul",null,[a("li",null,[e(n,{to:"#"},{default:l(()=>s[0]||(s[0]=[i("`")])),_:1})]),a("li",null,[e(n,{to:"#-1"},{default:l(()=>s[1]||(s[1]=[i("$")])),_:1})]),a("li",null,[e(n,{to:"#find"},{default:l(()=>s[2]||(s[2]=[i("find")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法"},{default:l(()=>s[3]||(s[3]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明"},{default:l(()=>s[4]||(s[4]=[i("参数说明")])),_:1})]),a("li",null,[e(n,{to:"#示例"},{default:l(()=>s[5]||(s[5]=[i("示例")])),_:1})])])]),a("li",null,[e(n,{to:"#cut"},{default:l(()=>s[6]||(s[6]=[i("cut")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法-1"},{default:l(()=>s[7]||(s[7]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明-1"},{default:l(()=>s[8]||(s[8]=[i("参数说明")])),_:1})])])]),a("li",null,[e(n,{to:"#route"},{default:l(()=>s[9]||(s[9]=[i("route")])),_:1})]),a("li",null,[e(n,{to:"#tar"},{default:l(()=>s[10]||(s[10]=[i("tar")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法-2"},{default:l(()=>s[11]||(s[11]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明-2"},{default:l(()=>s[12]||(s[12]=[i("参数说明")])),_:1})]),a("li",null,[e(n,{to:"#示例-1"},{default:l(()=>s[13]||(s[13]=[i("示例")])),_:1})])])]),a("li",null,[e(n,{to:"#pidstat"},{default:l(()=>s[14]||(s[14]=[i("pidstat")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法-3"},{default:l(()=>s[15]||(s[15]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明-3"},{default:l(()=>s[16]||(s[16]=[i("参数说明")])),_:1})]),a("li",null,[e(n,{to:"#示例-2"},{default:l(()=>s[17]||(s[17]=[i("示例")])),_:1})])])]),a("li",null,[e(n,{to:"#tsar"},{default:l(()=>s[18]||(s[18]=[i("tsar")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#安装"},{default:l(()=>s[19]||(s[19]=[i("安装")])),_:1})]),a("li",null,[e(n,{to:"#语法-4"},{default:l(()=>s[20]||(s[20]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#示例-3"},{default:l(()=>s[21]||(s[21]=[i("示例")])),_:1})])])]),a("li",null,[e(n,{to:"#history"},{default:l(()=>s[22]||(s[22]=[i("history")])),_:1})]),a("li",null,[e(n,{to:"#top"},{default:l(()=>s[23]||(s[23]=[i("top")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法-5"},{default:l(()=>s[24]||(s[24]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明-5"},{default:l(()=>s[25]||(s[25]=[i("参数说明")])),_:1})])])]),a("li",null,[e(n,{to:"#awk"},{default:l(()=>s[26]||(s[26]=[i("awk")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法-6"},{default:l(()=>s[27]||(s[27]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明-6"},{default:l(()=>s[28]||(s[28]=[i("参数说明")])),_:1})]),a("li",null,[e(n,{to:"#示例-4"},{default:l(()=>s[29]||(s[29]=[i("示例")])),_:1})])])]),a("li",null,[e(n,{to:"#sed"},{default:l(()=>s[30]||(s[30]=[i("sed")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法-7"},{default:l(()=>s[31]||(s[31]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明-7"},{default:l(()=>s[32]||(s[32]=[i("参数说明")])),_:1})]),a("li",null,[e(n,{to:"#示例-5"},{default:l(()=>s[33]||(s[33]=[i("示例")])),_:1})])])]),a("li",null,[e(n,{to:"#grep"},{default:l(()=>s[34]||(s[34]=[i("grep")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法-8"},{default:l(()=>s[35]||(s[35]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明-8"},{default:l(()=>s[36]||(s[36]=[i("参数说明")])),_:1})]),a("li",null,[e(n,{to:"#示例-6"},{default:l(()=>s[37]||(s[37]=[i("示例")])),_:1})])])]),a("li",null,[e(n,{to:"#split"},{default:l(()=>s[38]||(s[38]=[i("split")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#语法-9"},{default:l(()=>s[39]||(s[39]=[i("语法")])),_:1})]),a("li",null,[e(n,{to:"#参数说明-9"},{default:l(()=>s[40]||(s[40]=[i("参数说明")])),_:1})]),a("li",null,[e(n,{to:"#示例-7"},{default:l(()=>s[41]||(s[41]=[i("示例")])),_:1})])])]),a("li",null,[e(n,{to:"#根据端口号获取pid"},{default:l(()=>s[42]||(s[42]=[i("根据端口号获取PID")])),_:1})]),a("li",null,[e(n,{to:"#查看linux发行版本"},{default:l(()=>s[43]||(s[43]=[i("查看linux发行版本")])),_:1})]),a("li",null,[e(n,{to:"#终端快捷键"},{default:l(()=>s[44]||(s[44]=[i("终端快捷键")])),_:1})]),a("li",null,[e(n,{to:"#查看系统日志"},{default:l(()=>s[45]||(s[45]=[i("查看系统日志")])),_:1})]),a("li",null,[e(n,{to:"#清空文件-日志"},{default:l(()=>s[46]||(s[46]=[i("清空文件（日志）")])),_:1})]),a("li",null,[e(n,{to:"#查看进程所在路径"},{default:l(()=>s[47]||(s[47]=[i("查看进程所在路径")])),_:1})]),a("li",null,[e(n,{to:"#查看僵尸进程"},{default:l(()=>s[48]||(s[48]=[i("查看僵尸进程")])),_:1})]),a("li",null,[e(n,{to:"#比较两个目录文件是否一致"},{default:l(()=>s[49]||(s[49]=[i("比较两个目录文件是否一致")])),_:1})]),a("li",null,[e(n,{to:"#查找并删除文件"},{default:l(()=>s[50]||(s[50]=[i("查找并删除文件")])),_:1})]),a("li",null,[e(n,{to:"#防火墙"},{default:l(()=>s[51]||(s[51]=[i("防火墙")])),_:1}),a("ul",null,[a("li",null,[e(n,{to:"#centos-7"},{default:l(()=>s[52]||(s[52]=[i("Centos 7")])),_:1})]),a("li",null,[e(n,{to:"#centos6"},{default:l(()=>s[53]||(s[53]=[i("CentOS6")])),_:1})]),a("li",null,[e(n,{to:"#ubuntu"},{default:l(()=>s[54]||(s[54]=[i("Ubuntu")])),_:1})])])]),a("li",null,[e(n,{to:"#dns"},{default:l(()=>s[55]||(s[55]=[i("DNS")])),_:1})]),a("li",null,[e(n,{to:"#最后启动时间"},{default:l(()=>s[56]||(s[56]=[i("最后启动时间")])),_:1})]),a("li",null,[e(n,{to:"#重启记录"},{default:l(()=>s[57]||(s[57]=[i("重启记录")])),_:1})]),a("li",null,[e(n,{to:"#运行时间"},{default:l(()=>s[58]||(s[58]=[i("运行时间")])),_:1})]),a("li",null,[e(n,{to:"#使用-pem登录"},{default:l(()=>s[59]||(s[59]=[i("使用.pem登录")])),_:1})]),a("li",null,[e(n,{to:"#linux-全局时间格式化"},{default:l(()=>s[60]||(s[60]=[i("linux 全局时间格式化")])),_:1})])])]),s[63]||(s[63]=r(`<h2 id="" tabindex="-1"><a class="header-anchor" href="#"><span>\`</span></a></h2><p>反引号的作用就是将反引号内的<code>Linux</code>命令先执行，然后将执行结果赋予变量。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 将Linux命令赋予 listc , listc 的值就是该命令的执行结果</span></span>
<span class="line">$ <span class="token assign-left variable">listc</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">ls</span> <span class="token parameter variable">-la</span><span class="token variable">\`</span></span>    </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="-1" tabindex="-1"><a class="header-anchor" href="#-1"><span>$</span></a></h2><ul><li><code>$$</code> 是进程ID</li><li><code>$!</code> 是最后运行的进程ID</li><li><code>$?</code> 最后运行的返回值（指的是上一指令的返回值）</li><li><code>$*</code> 和<code> $@</code> 是所有参数列表：<code>$@</code>的功能基本上与<code>$*</code>是相同。只不过<code>$*</code>返回的是一个字符串，字符串中存在多外空格，而<code>$@</code> 返回多个字符串。</li><li><code>$#</code> 参数个数</li><li><code>$0</code> 是shell本身的文件名</li><li><code>$1</code> 到<code>$n</code> 是第1个参数，第2个参数……第n个参数</li></ul><h2 id="find" tabindex="-1"><a class="header-anchor" href="#find"><span>find</span></a></h2><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> path <span class="token parameter variable">-option</span> <span class="token punctuation">[</span> <span class="token parameter variable">-print</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token parameter variable">-exec</span> <span class="token parameter variable">-ok</span> <span class="token builtin class-name">command</span> <span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="参数说明" tabindex="-1"><a class="header-anchor" href="#参数说明"><span>参数说明</span></a></h3><p>find 根据下列规则判断 path 和 expression，在命令列上第一个 - ( ) , ! 之前的部份为 path，之后的是 expression。如果 path 是空字串则使用目前路径，如果 expression 是空字串则使用 -print 为预设 expression。 expression 中可使用的选项有二三十个之多，在此只介绍最常用的部份。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-mount, -xdev : 只检查和指定目录在同一个文件系统下的文件，避免列出其它文件系统中的文件</span>
<span class="line">-amin n : 在过去 n 分钟内被读取过</span>
<span class="line">-anewer file : 比文件 file 更晚被读取过的文件</span>
<span class="line">-atime n : 在过去n天内被读取过的文件</span>
<span class="line">-cmin n : 在过去 n 分钟内被修改过</span>
<span class="line">-cnewer file :比文件 file 更新的文件</span>
<span class="line">-ctime n : 在过去n天内被修改过的文件</span>
<span class="line">-empty : 空的文件-gid n or -group name : gid 是 n 或是 group 名称是 name</span>
<span class="line">-ipath p, -path p : 路径名称符合 p 的文件，ipath 会忽略大小写</span>
<span class="line">-name name, -iname name : 文件名称符合 name 的文件。iname 会忽略大小写</span>
<span class="line">-size n : 文件大小 是 n 单位，b 代表 512 位元组的区块，c 表示字元数，k 表示 kilo bytes，w 是二个位元组。</span>
<span class="line">-type c : 文件类型是 c 的文件。</span>
<span class="line">      d : 目录</span>
<span class="line">      c : 字型装置文件</span>
<span class="line">      b : 区块装置文件</span>
<span class="line">      p : 具名贮列</span>
<span class="line">      f : 一般文件</span>
<span class="line">      l : 符号连结</span>
<span class="line">      s : socket</span>
<span class="line">-pid n : process id 是 n 的文件</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span>示例</span></a></h3><p>将目前目录及其子目录下所有延伸档名是 c 的文件列出来</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-name</span> <span class="token string">&quot;*.c&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将目前目录其其下子目录中所有一般文件列出</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将目前目录及其子目录下所有最近 20 天内更新过的文件列出</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-ctime</span> <span class="token parameter variable">-20</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查找/var/log目录中更改时间在7日以前的普通文件，并在删除之前询问它们</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> /var/log <span class="token parameter variable">-type</span> f <span class="token parameter variable">-mtime</span> +7 <span class="token parameter variable">-ok</span> <span class="token function">rm</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查找前目录中文件属主具有读、写权限，并且文件所属组的用户和其他用户具有读权限的文件</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-perm</span> <span class="token number">644</span> <span class="token parameter variable">-exec</span> <span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>为了查找系统中所有文件长度为0的普通文件，并列出它们的完整路径</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> / <span class="token parameter variable">-type</span> f <span class="token parameter variable">-size</span> <span class="token number">0</span> <span class="token parameter variable">-exec</span> <span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查找文件夹下最新的文件</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> /data <span class="token parameter variable">-type</span> f <span class="token parameter variable">-print0</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-0</span> <span class="token function">stat</span> <span class="token parameter variable">-c</span> <span class="token string">&#39;%Y %n&#39;</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-nr</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-d</span> <span class="token string">&#39; &#39;</span> <span class="token parameter variable">-f</span> <span class="token number">2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="cut" tabindex="-1"><a class="header-anchor" href="#cut"><span>cut</span></a></h2><h3 id="语法-1" tabindex="-1"><a class="header-anchor" href="#语法-1"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cut</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>参数<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="参数说明-1" tabindex="-1"><a class="header-anchor" href="#参数说明-1"><span>参数说明</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-b：仅显示行中指定直接范围的内容；</span>
<span class="line">-c：仅显示行中指定范围的字符；</span>
<span class="line">-d：指定字段的分隔符，默认的字段分隔符为“TAB”；</span>
<span class="line">-f：显示指定字段的内容；</span>
<span class="line">-n：与“-b”选项连用，不分割多字节字符；</span>
<span class="line">--complement：补足被选择的字节、字符或字段；</span>
<span class="line">--out-delimiter=&lt;字段分隔符&gt;：指定输出内容是的字段分割符；</span>
<span class="line">--help：显示指令的帮助信息；</span>
<span class="line">--version：显示指令的版本信息。</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="route" tabindex="-1"><a class="header-anchor" href="#route"><span>route</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">route <span class="token function">add</span> <span class="token parameter variable">-net</span> <span class="token number">192.168</span>.20.0 netmask <span class="token number">255.255</span>.255.0 gw <span class="token number">10.12</span>.20.80 dev eth0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="tar" tabindex="-1"><a class="header-anchor" href="#tar"><span>tar</span></a></h2><h3 id="语法-2" tabindex="-1"><a class="header-anchor" href="#语法-2"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token punctuation">[</span>参数<span class="token punctuation">]</span> <span class="token parameter variable">-f</span> 归档文件名称.tar <span class="token punctuation">[</span>文件<span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="参数说明-2" tabindex="-1"><a class="header-anchor" href="#参数说明-2"><span>参数说明</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-c：创建一个新的归档文件。</span>
<span class="line">-x：解压归档文件。</span>
<span class="line">-t：列出归档文件的内容。</span>
<span class="line">-r：向现有归档文件中追加文件。</span>
<span class="line">-u：仅追加比归档文件中已有文件更新的文件。</span>
<span class="line">-d：找到归档文件中与文件系统不同步的差异。</span>
<span class="line">-A：将一个 .tar 文件追加到另一个 .tar 文件中。</span>
<span class="line">-f \`&lt;file&gt;\`：指定归档文件的名称（必须放在选项列表的最后）。</span>
<span class="line">-C \`&lt;directory&gt;\`：切换到指定目录进行操作。</span>
<span class="line">--exclude=\`&lt;pattern&gt;\`：排除匹配指定模式的文件。</span>
<span class="line">--exclude-from=\`&lt;file&gt;\`：从指定文件读取要排除的模式。</span>
<span class="line">--exclude-caches：排除目录中的缓存文件。</span>
<span class="line">--exclude-backups：排除以 ~ 结尾的备份文件。</span>
<span class="line">--exclude-vcs：排除版本控制系统生成的文件（如 .git、.svn 等）。</span>
<span class="line">-z：使用 gzip 压缩归档文件。</span>
<span class="line">-j：使用 bzip2 压缩归档文件。</span>
<span class="line">-J：使用 xz 压缩归档文件。</span>
<span class="line">--lzip：使用 lzip 压缩归档文件。</span>
<span class="line">--lzma：使用 lzma 压缩归档文件。</span>
<span class="line">--lzop：使用 lzop 压缩归档文件。</span>
<span class="line">--zstd：使用 zstd 压缩归档文件。</span>
<span class="line">-a：自动选择压缩方式（基于归档文件的扩展名，如 .tar.gz、.tar.bz2 等）。</span>
<span class="line">-I \`&lt;command&gt;\`：使用指定的压缩程序进行压缩或解压。</span>
<span class="line">-v：显示详细操作过程（verbose）。</span>
<span class="line">--progress：显示进度条（与 -v 一起使用时）。</span>
<span class="line">-w 或 --interactive：在每次操作前询问用户确认。</span>
<span class="line">--checkpoint：在处理每个文件后显示一个检查点。</span>
<span class="line">--checkpoint-action=\`&lt;action&gt;\`：在检查点执行指定的动作，如 echo、dot 等。</span>
<span class="line">--totals：在操作结束后显示处理的总字节数。</span>
<span class="line">--verbose：详细显示处理的信息。</span>
<span class="line">--quiet：尽可能少的输出信息。</span>
<span class="line">-p：保留文件的原始权限（解压时）。</span>
<span class="line">--same-owner：尝试将解压的文件设为原始所有者（需超级用户权限）。</span>
<span class="line">--no-same-owner：不设置文件所有者。</span>
<span class="line">--same-permissions：保留文件的原始权限（与 -p 相同）。</span>
<span class="line">--no-same-permissions：不保留原始权限，使用当前用户的 umask 设置权限。</span>
<span class="line">-m：在解压时不恢复文件的修改时间，而使用当前时间。</span>
<span class="line">-k 或 --keep-old-files：解压时保留已有文件，不覆盖。</span>
<span class="line">--overwrite：解压时强制覆盖已有文件。</span>
<span class="line">--remove-files：归档成功后删除原始文件。</span>
<span class="line">--delete：从归档文件中删除指定文件（仅限 gnu tar）。</span>
<span class="line">--keep-newer-files：解压时保留比归档中较新的文件。</span>
<span class="line">--listed-incremental=\`&lt;file&gt;\`：创建增量备份或从增量备份恢复。</span>
<span class="line">-L \`&lt;N&gt;\`：分割大于 N 字节的归档文件（对于磁带机）。</span>
<span class="line">--tape-length=\`&lt;number&gt;\`：指定磁带长度（对于磁带机）。</span>
<span class="line">--multi-volume：创建或恢复多卷归档文件。</span>
<span class="line">-M：与 --multi-volume 一起使用，处理多卷归档文件。</span>
<span class="line">--use-compress-program=\`&lt;prog&gt;\`：使用指定的压缩程序。</span>
<span class="line">--transform=\`&lt;expression&gt;\`：重命名归档中的文件。</span>
<span class="line">--strip-components=\`&lt;number&gt;\`：解压时剥离指定数量的路径组件。</span>
<span class="line">--ignore-failed-read：忽略读取错误并继续操作。</span>
<span class="line">--occurrence=\`&lt;number&gt;\`：在归档中选择第 number 个出现的文件。</span>
<span class="line">-S：处理稀疏文件（仅归档实际使用的块）。</span>
<span class="line">--no-recursion：不递归进入目录。</span>
<span class="line">-h 或 --dereference：归档符号链接指向的文件而非链接本身。</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例-1" tabindex="-1"><a class="header-anchor" href="#示例-1"><span>示例</span></a></h3><h4 id="常用参数示例" tabindex="-1"><a class="header-anchor" href="#常用参数示例"><span>常用参数示例</span></a></h4><p>创建归档文件：将文件 file1、file2 和 directory 打包到一个名为 archive.tar 的归档文件中。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-cvf</span> archive.tar file1 file2 directory</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-c: 创建新的归档文件</li><li>-v: 显示详细输出，列出被添加到归档中的文件</li><li>-f: 指定归档文件的名称</li></ul><p>解压归档文件：解压名为 archive.tar 的归档文件，还原其中包含的文件和目录。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-xvf</span> archive.tar</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-x: 解压归档文件</li><li>-v: 显示详细输出，列出被解压的文件</li><li>-f: 指定要解压的归档文件的名称</li></ul><p>列出归档文件中的内容：仅仅列出名为 archive.tar 的归档文件中包含的所有文件和目录。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-tvf</span> archive.tar</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-t: 列出归档文件中的内容</li><li>-v: 显示详细输出，列出归档文件中的所有文件和目录</li><li>-f: 指定要列出内容的归档文件的名称</li></ul><p>追加文件到已存在的归档中：将名为 newfile 的文件添加到已存在的名为 archive.tar 的归档文件中。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-rvf</span> archive.tar newfile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-r: 向已存在的归档中追加文件</li><li>-v: 显示详细输出，列出被添加到归档中的文件</li><li>-f: 指定已存在的归档文件的名称</li></ul><p>创建一个经过 gzip 压缩的归档文件：打包 directory 目录下的所有文件和子目录，并使用 gzip 压缩，生成名为 archive.tar.gz 的归档文件。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> archive.tar.gz directory</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-z: 表示要使用 gzip 进行压缩。</li><li>-c: 表示创建新的归档文件。</li><li>-v: 表示详细输出，列出被添加到归档中的文件。</li><li>-f archive.tar.gz: 指定归档文件的名称为 archive.tar.gz。</li></ul><p>解压一个已经被 gzip 压缩的归档文件：解压 example.tar.gz 文件，并在当前目录下恢复其中包含的文件和目录。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> example.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-z: 表示要使用 gzip 解压归档文件。</li><li>-x: 表示解压操作。</li><li>-v: 表示详细输出，列出被解压的文件。</li><li>-f example.tar.gz: 指定要解压的归档文件的名称为 example.tar.gz。</li></ul><p>解压一个已经被 gzip 压缩的归档文件：解压 example.tar.gz 文件，并在指定目录下恢复其中包含的文件和目录。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> example.tar.gz <span class="token parameter variable">-C</span> /指定目录</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-C：指定目录</li></ul><p>指定压缩格式</p><ul><li>-z: 使用 gzip 压缩，文件格式<code>.gz</code></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-czvf</span> archive.tar.gz directory</span>
<span class="line"><span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> archive.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>j: 使用 bzip2 压缩。</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-cjvf</span> archive.tar.bz2 directory</span>
<span class="line"><span class="token function">tar</span> <span class="token parameter variable">-xjvf</span> archive.tar.bz2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>J: 使用 xz 压缩。</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-cJvf</span> archive.tar.xz directory</span>
<span class="line"><span class="token function">tar</span> <span class="token parameter variable">-xJvf</span> archive.tar.xz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="显示压缩进度" tabindex="-1"><a class="header-anchor" href="#显示压缩进度"><span>显示压缩进度</span></a></h4><p>tar 显示解压进度，显示 mysql.tar.gz 解压缩的进度</p><p>方式一</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-cf</span> - mysql <span class="token operator">|</span> <span class="token function">pv</span> <span class="token parameter variable">-s</span> <span class="token variable"><span class="token variable">$((</span>$<span class="token punctuation">(</span>du <span class="token operator">-</span>sk mysql <span class="token operator">|</span> awk &#39;{print $<span class="token number">1</span>}&#39;<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token variable">))</span></span> <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">&gt;</span> mysql.tar.gz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>方式二</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">pv</span> mysql.tar.gz <span class="token operator">|</span> <span class="token function">tar</span> <span class="token parameter variable">-zxf</span> - <span class="token parameter variable">-C</span> /opt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="pidstat" tabindex="-1"><a class="header-anchor" href="#pidstat"><span>pidstat</span></a></h2><p>查看IO情况</p><h3 id="语法-3" tabindex="-1"><a class="header-anchor" href="#语法-3"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pidstat <span class="token punctuation">[</span> 选项 <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token operator">&lt;</span>时间间隔<span class="token operator">&gt;</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token operator">&lt;</span>次数<span class="token operator">&gt;</span> <span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="参数说明-3" tabindex="-1"><a class="header-anchor" href="#参数说明-3"><span>参数说明</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-u：默认的参数，显示各个进程的cpu使用统计</span>
<span class="line">-r：显示各个进程的内存使用统计</span>
<span class="line">-d：显示各个进程的IO使用情况</span>
<span class="line">-p：指定进程号</span>
<span class="line">-w：显示每个进程的上下文切换情况</span>
<span class="line">-t：显示选择任务的线程的统计信息外的额外信息</span>
<span class="line">-V：版本号</span>
<span class="line">-h：在一行上显示了所有活动，这样其他程序可以容易解析。</span>
<span class="line">-I：在SMP环境，表示任务的CPU使用率/内核数量</span>
<span class="line">-l：显示命令名和所有参数</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例-2" tabindex="-1"><a class="header-anchor" href="#示例-2"><span>示例</span></a></h3><h4 id="进程的-cpu-使用情况" tabindex="-1"><a class="header-anchor" href="#进程的-cpu-使用情况"><span>进程的 CPU 使用情况</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">pidstat -u -p ALL</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="内存使用情况统计" tabindex="-1"><a class="header-anchor" href="#内存使用情况统计"><span>内存使用情况统计</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pidstat <span class="token parameter variable">-r</span></span>
<span class="line">pidstat <span class="token parameter variable">-r</span> <span class="token parameter variable">-p</span> <span class="token punctuation">[</span>pid<span class="token punctuation">]</span> <span class="token number">1</span> <span class="token number">3</span> </span>
<span class="line"></span>
<span class="line"><span class="token punctuation">[</span>admin@iz8mo01o140qr7gk43egraz cn-nj-jsybj-d01<span class="token punctuation">]</span>$ pidstat <span class="token parameter variable">-r</span> <span class="token parameter variable">-p</span> <span class="token number">16597</span> <span class="token number">1</span> <span class="token number">3</span> </span>
<span class="line">Linux <span class="token number">3.10</span>.0-693.2.2.el7.x86_64 <span class="token punctuation">(</span>iz8mo01o140qr7gk43egraz<span class="token punctuation">)</span>       06/27/2023      _x86_64_        <span class="token punctuation">(</span><span class="token number">4</span> CPU<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">04:53:25 PM   <span class="token environment constant">UID</span>       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command</span>
<span class="line">04:53:26 PM  <span class="token number">1000</span>     <span class="token number">16597</span>      <span class="token number">7.00</span>      <span class="token number">0.00</span> <span class="token number">16393680</span> <span class="token number">9374212</span>  <span class="token number">57.62</span>  <span class="token function">java</span></span>
<span class="line">04:53:27 PM  <span class="token number">1000</span>     <span class="token number">16597</span>      <span class="token number">6.00</span>      <span class="token number">0.00</span> <span class="token number">16393680</span> <span class="token number">9374212</span>  <span class="token number">57.62</span>  <span class="token function">java</span></span>
<span class="line">04:53:28 PM  <span class="token number">1000</span>     <span class="token number">16597</span>      <span class="token number">8.00</span>      <span class="token number">0.00</span> <span class="token number">16393680</span> <span class="token number">9374212</span>  <span class="token number">57.62</span>  <span class="token function">java</span></span>
<span class="line">Average:     <span class="token number">1000</span>     <span class="token number">16597</span>      <span class="token number">7.00</span>      <span class="token number">0.00</span> <span class="token number">16393680</span> <span class="token number">9374212</span>  <span class="token number">57.62</span>  <span class="token function">java</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>PID：进程标识符</li><li>Minflt/s:任务每秒发生的次要错误，不需要从磁盘中加载页</li><li>Majflt/s:任务每秒发生的主要错误，需要从磁盘中加载页</li><li>VSZ：虚拟地址大小，虚拟内存的使用KB</li><li>RSS：常驻集合大小，非交换区五里内存使用KB</li><li>Command：task命令名</li></ul><h4 id="进程的io使用情况" tabindex="-1"><a class="header-anchor" href="#进程的io使用情况"><span>进程的IO使用情况</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 展示I/O统计，每秒更新一次</span></span>
<span class="line">pidstat <span class="token parameter variable">-d</span> <span class="token number">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>PID：进程id</li><li>kB_rd/s：每秒从磁盘读取的KB</li><li>kB_wr/s：每秒写入磁盘KB</li><li>kB_ccwr/s：任务取消的写入磁盘的KB。当任务截断脏的pagecache的时候会发生。</li><li>COMMAND:task的命令名</li></ul><h4 id="显示选择任务的线程的统计信息外的额外信息" tabindex="-1"><a class="header-anchor" href="#显示选择任务的线程的统计信息外的额外信息"><span>显示选择任务的线程的统计信息外的额外信息</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pidstat <span class="token parameter variable">-t</span> <span class="token parameter variable">-p</span> <span class="token number">2831</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>TGID:主线程的表示</li><li>TID:线程id</li><li>%usr：进程在用户空间占用cpu的百分比</li><li>%system：进程在内核空间占用cpu的百分比</li><li>%guest：进程在虚拟机占用cpu的百分比</li><li>%CPU：进程占用cpu的百分比</li><li>CPU：处理进程的cpu编号</li><li>Command：当前进程对应的命令</li></ul><h2 id="tsar" tabindex="-1"><a class="header-anchor" href="#tsar"><span>tsar</span></a></h2><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">git</span> clone https://github.com/alibaba/tsar.git</span>
<span class="line"><span class="token builtin class-name">cd</span> tsar</span>
<span class="line"><span class="token function">make</span></span>
<span class="line"><span class="token function">make</span> <span class="token function">install</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="语法-4" tabindex="-1"><a class="header-anchor" href="#语法-4"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token punctuation">[</span>options<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="参数说明-4" tabindex="-1"><a class="header-anchor" href="#参数说明-4"><span>参数说明</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-check 查看最后一次的采集数据</span>
<span class="line">--check/-C 查看最后一次tsar的提醒信息，如：tsar --check/ tsar --check--cpu--io</span>
<span class="line">--cron/-c 使用crond模式来进行tsar监控</span>
<span class="line">--interval/-i 指明tsar的间隔时间，默认单位分钟,带上--live参数则单位是秒</span>
<span class="line">--list/-L 列出启用的模块</span>
<span class="line">--live/-l 查看实时数据</span>
<span class="line">--file/-f 指定输入文件</span>
<span class="line">--ndays/-n 指定过去的数据天数，默认1天</span>
<span class="line">--date/-d 指定日期,YYYYMMDD或者n代表n天前</span>
<span class="line">--detail/-D 能够指定查看主要字段还是模块的所有字段</span>
<span class="line">--spec/-s 指定字段,tsar –cpu -ssys,util</span>
<span class="line">**Modules Enabled**：</span>
<span class="line">--cpu 列出cpu相关的监控计数</span>
<span class="line">--mem 物理内存的使用情况</span>
<span class="line">--swap 虚拟内存的使用情况</span>
<span class="line">--tcp TCP 协议 IPV4的使用情况</span>
<span class="line">--udp UDP 协议 IPV4的使用情况</span>
<span class="line">--traffic 网络传出的使用情况</span>
<span class="line">--io Linux IO的情况</span>
<span class="line">--pcsw 进程和上下文切换</span>
<span class="line">--partition 磁盘使用情况</span>
<span class="line">--tcpx TCP 连接相关的数据参数</span>
<span class="line">--load 系统负载情况</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例-3" tabindex="-1"><a class="header-anchor" href="#示例-3"><span>示例</span></a></h3><h4 id="监控系统的cpu" tabindex="-1"><a class="header-anchor" href="#监控系统的cpu"><span>监控系统的cpu</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token parameter variable">--cpu</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="监控虚存和load情况" tabindex="-1"><a class="header-anchor" href="#监控虚存和load情况"><span>监控虚存和load情况</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token parameter variable">--swap</span> <span class="token parameter variable">--load</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="监控内存使用情况" tabindex="-1"><a class="header-anchor" href="#监控内存使用情况"><span>监控内存使用情况</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token parameter variable">--mem</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="监控系统io情况" tabindex="-1"><a class="header-anchor" href="#监控系统io情况"><span>监控系统IO情况</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token parameter variable">--io</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="监控网络统计" tabindex="-1"><a class="header-anchor" href="#监控网络统计"><span>监控网络统计</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token parameter variable">--traffic</span></span>
<span class="line">tsar <span class="token parameter variable">--tcp</span> <span class="token parameter variable">--udp</span> <span class="token parameter variable">-d</span> <span class="token number">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="监控告警信息" tabindex="-1"><a class="header-anchor" href="#监控告警信息"><span>监控告警信息</span></a></h4><p>查看最后一次tsar的提醒信息，包括系统的cpu，io的告警情况</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token parameter variable">--check</span> <span class="token parameter variable">--cpu</span> <span class="token parameter variable">--io</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="指定日期" tabindex="-1"><a class="header-anchor" href="#指定日期"><span>指定日期</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token parameter variable">--load</span> <span class="token parameter variable">-d</span> <span class="token number">20200208</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="历史数据回溯" tabindex="-1"><a class="header-anchor" href="#历史数据回溯"><span>历史数据回溯</span></a></h4><p>-d 2 ：两天前到现在的数据，-i 1 ：每次1分钟作为采集显示</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">tsar <span class="token parameter variable">-d</span> <span class="token number">2</span> <span class="token parameter variable">-i</span> <span class="token number">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="history" tabindex="-1"><a class="header-anchor" href="#history"><span>history</span></a></h2><p>显示时间、ip</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">HISTTIMEFORMAT</span><span class="token operator">=</span><span class="token string">&quot;%F %T <span class="token variable"><span class="token variable">\`</span><span class="token function">who</span> <span class="token parameter variable">-u</span> am i <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null<span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $NF}&#39;</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token punctuation">\\</span>-e <span class="token string">&#39;s/[()]//g&#39;</span><span class="token variable">\`</span></span> <span class="token variable"><span class="token variable">\`</span><span class="token function">whoami</span><span class="token variable">\`</span></span>&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>永久生效，显示时间、ip、日期格式化、history 历史记录条数</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> ~/.bash_profile <span class="token operator">&lt;&lt;</span> <span class="token string">&#39;EOF&#39;</span>
<span class="line">HISTSIZE=10000</span>
<span class="line">HISTFILESIZE=10000</span>
<span class="line">USER_IP=\`who -u am i 2&gt;/dev/null| awk &#39;{print $NF}&#39;|sed -e &#39;s/[()]//g&#39;\`</span>
<span class="line">if [ -z $USER_IP ]</span>
<span class="line">then</span>
<span class="line">  USER_IP=\`hostname\`</span>
<span class="line">fi</span>
<span class="line">HISTTIMEFORMAT=&quot;%F %T $USER_IP:\`whoami\` &quot;</span>
<span class="line">export HISTTIMEFORMAT</span>
<span class="line">export TIME_STYLE=&#39;+%Y-%m-%d %H:%M:%S&#39;</span>
<span class="line">EOF</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">source</span> ~/.bash_profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="top" tabindex="-1"><a class="header-anchor" href="#top"><span>top</span></a></h2><h3 id="语法-5" tabindex="-1"><a class="header-anchor" href="#语法-5"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">top</span> <span class="token punctuation">[</span>-<span class="token punctuation">]</span> <span class="token punctuation">[</span>d<span class="token punctuation">]</span> <span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token punctuation">[</span>q<span class="token punctuation">]</span> <span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token punctuation">[</span>C<span class="token punctuation">]</span> <span class="token punctuation">[</span>S<span class="token punctuation">]</span> <span class="token punctuation">[</span>n<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="参数说明-5" tabindex="-1"><a class="header-anchor" href="#参数说明-5"><span>参数说明</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-d： 指定每两次屏幕信息刷新之间的时间间隔。当然用户可以使用s交互命令来改变之。</span>
<span class="line">-p： 通过指定监控进程ID来仅仅监控某个进程的状态。</span>
<span class="line">-q：该选项将使top没有任何延迟的进行刷新。如果调用程序有超级用户权限，那么top将以尽可能高的优先级运行。</span>
<span class="line">-S：指定累计模式</span>
<span class="line">-s ：使top命令在安全模式中运行。这将去除交互命令所带来的潜在危险。</span>
<span class="line">-i： 使top不显示任何闲置或者僵死进程。</span>
<span class="line">-c： 显示整个命令行而不只是显示命令名</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="awk" tabindex="-1"><a class="header-anchor" href="#awk"><span>awk</span></a></h2><h3 id="语法-6" tabindex="-1"><a class="header-anchor" href="#语法-6"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">awk</span> options <span class="token string">&#39;pattern {action}&#39;</span> <span class="token function">file</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="参数说明-6" tabindex="-1"><a class="header-anchor" href="#参数说明-6"><span>参数说明</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-F &lt;分隔符&gt; 或 --field-separator=&lt;分隔符&gt;： 指定输入字段的分隔符，默认是空格。使用这个选项可以指定不同于默认分隔符的字段分隔符。</span>
<span class="line">-v &lt;变量名&gt;=&lt;值&gt;： 设置 awk 内部的变量值。可以使用该选项将外部值传递给 awk 脚本中的变量。</span>
<span class="line">-f &lt;脚本文件&gt;： 指定一个包含 awk 脚本的文件。这样可以在文件中编写较大的 awk 脚本，然后通过 -f 选项将其加载。</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例-4" tabindex="-1"><a class="header-anchor" href="#示例-4"><span>示例</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 获取第一列</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-aux</span> <span class="token operator">|</span> <span class="token function">grep</span> watchdog <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $1}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取第一列，第二列，第三列</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-aux</span> <span class="token operator">|</span> <span class="token function">grep</span> watchdog <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $1, $2, $3}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取第一行的第一列，第二列，第三列</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-aux</span> <span class="token operator">|</span> <span class="token function">grep</span> watchdog <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;NR==1{print $1, $2, $3}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取行数NR</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-aux</span> <span class="token operator">|</span> <span class="token function">grep</span> watchdog <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;END{print NR}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取列数NF（这里是获取最后一行的列数，注意每行的列数可能是不同的）</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-aux</span> <span class="token operator">|</span> <span class="token function">grep</span> watchdog <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;END{print NF}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取最后一列</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-aux</span> <span class="token operator">|</span> <span class="token function">grep</span> watchdog <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $NF}&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 对文件进行操作</span></span>
<span class="line"><span class="token function">awk</span> <span class="token string">&#39;{print $1}&#39;</span> fileName</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 指定分隔符（这里以:分割）</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-aux</span> <span class="token operator">|</span> <span class="token function">grep</span> watchdog <span class="token operator">|</span><span class="token function">awk</span>  -F<span class="token string">&#39;:&#39;</span> <span class="token string">&#39;{print $1}&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sed" tabindex="-1"><a class="header-anchor" href="#sed"><span>sed</span></a></h2><h3 id="语法-7" tabindex="-1"><a class="header-anchor" href="#语法-7"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sed</span> <span class="token punctuation">[</span>-hnV<span class="token punctuation">]</span><span class="token punctuation">[</span>-e<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>-f<span class="token operator">&lt;</span>script文件<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>文本文件<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="参数说明-7" tabindex="-1"><a class="header-anchor" href="#参数说明-7"><span>参数说明</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-e\`&lt;script&gt;\`或\`--expression=&lt;script&gt;\` ：以选项中指定的\`script\`来处理输入的文本文件。</span>
<span class="line">-f\`&lt;script文件&gt;或--file=&lt;script文件&gt;\` ：以选项中指定的\`script\`文件来处理输入的文本文件。</span>
<span class="line">-n或--quiet或--silent ：仅显示\`script\`处理后的结果。</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例-5" tabindex="-1"><a class="header-anchor" href="#示例-5"><span>示例</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># sed -n &#39;/开始时间/,/结束时间/&#39; 被截取日志原文件名称&gt;截取后存储日志文件名称（时间格式参考日志中时间格式）</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;/2019\\/12\\/10-18:30:00/,/2019\\/12\\/10-21:00:00/&#39;</span>p test.log<span class="token operator">&gt;</span><span class="token number">1</span>.log</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 截取一段时间内的登录日志可以使用SED命令对日志文件进行抽取操作：</span></span>
<span class="line"><span class="token function">sed</span>  <span class="token parameter variable">-n</span>  <span class="token string">&#39;/May 20 17/,$p&#39;</span>   /var/log/messages  <span class="token operator">|</span> <span class="token function">less</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 假如日志的格式是 -，“2015-05-04 09：25：55606后面跟日志内容”这样的目标是需要将05-04的09:25:55和09： 28:08之间的日志从/home/wwwlogs/access.log截取出来，命令：</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;/2015-05-04 09:25:55/,/2015-05-04 09:28:55/&#39;</span>p  /home/wwwlogs/access.log</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 如果要导出到/root/access0925_0928.log这个文件内</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;/2015-05-04 09:25:55/,/2015-05-04 09:28:55/&#39;</span>p  /home/wwwlogs/access.log <span class="token operator">&gt;</span>/root/access0925_0928.log</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 如果截取的时间段是22/Feb/2019:15:57:00，那么可以使用在 / 前使用转移符  \\ </span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-n</span>  <span class="token string">&#39;/22\\/Feb\\/2019:15:57:00/,/22\\/Feb\\/2019:15:57:59/&#39;</span>p  /home/wwwlogs/access.log <span class="token operator">&gt;</span>/root/access0925_0928.log</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 根据之前的日志格式，使用正则表达式：</span></span>
<span class="line"><span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;/2010-11-17 09:[0-9][0-9]:[0-9][0-9]/,/2010-11-17 16:[0-9][0-9]:[0-9][0-9]/&#39;</span>p  /home/wwwlogs/access.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="grep" tabindex="-1"><a class="header-anchor" href="#grep"><span>grep</span></a></h2><h3 id="语法-8" tabindex="-1"><a class="header-anchor" href="#语法-8"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> pattern <span class="token punctuation">[</span>files<span class="token punctuation">]</span></span>
<span class="line">或</span>
<span class="line"><span class="token function">grep</span> <span class="token punctuation">[</span>-abcEFGhHilLnqrsvVwxy<span class="token punctuation">]</span><span class="token punctuation">[</span>-A<span class="token operator">&lt;</span>显示行数<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>-B<span class="token operator">&lt;</span>显示列数<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>-C<span class="token operator">&lt;</span>显示列数<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>-d<span class="token operator">&lt;</span>进行动作<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>-e<span class="token operator">&lt;</span>范本样式<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>-f<span class="token operator">&lt;</span>范本文件<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>--help<span class="token punctuation">]</span><span class="token punctuation">[</span>范本样式<span class="token punctuation">]</span><span class="token punctuation">[</span>文件或目录<span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>pattern - 表示要查找的字符串或正则表达式。</li><li>files - 表示要查找的文件名，可以同时查找多个文件，如果省略 files 参数，则默认从标准输入中读取数据。</li></ul><h3 id="参数说明-8" tabindex="-1"><a class="header-anchor" href="#参数说明-8"><span>参数说明</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-a 或 --text : 不要忽略二进制的数据。</span>
<span class="line">-A&lt;显示行数&gt; 或 --after-context=&lt;显示行数&gt; : 除了显示符合范本样式的那一列之外，并显示该行之后的内容。</span>
<span class="line">-b 或 --byte-offset : 在显示符合样式的那一行之前，标示出该行第一个字符的编号。</span>
<span class="line">-B&lt;显示行数&gt; 或 --before-context=&lt;显示行数&gt; : 除了显示符合样式的那一行之外，并显示该行之前的内容。</span>
<span class="line">-c 或 --count : 计算符合样式的列数。</span>
<span class="line">-C&lt;显示行数&gt; 或 --context=&lt;显示行数&gt;或-&lt;显示行数&gt; : 除了显示符合样式的那一行之外，并显示该行之前后的内容。</span>
<span class="line">-d &lt;动作&gt; 或 --directories=&lt;动作&gt; : 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。</span>
<span class="line">-e&lt;范本样式&gt; 或 --regexp=&lt;范本样式&gt; : 指定字符串做为查找文件内容的样式。</span>
<span class="line">-E 或 --extended-regexp : 将样式为延伸的正则表达式来使用。</span>
<span class="line">-f&lt;规则文件&gt; 或 --file=&lt;规则文件&gt; : 指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。</span>
<span class="line">-F 或 --fixed-regexp : 将样式视为固定字符串的列表。</span>
<span class="line">-G 或 --basic-regexp : 将样式视为普通的表示法来使用。</span>
<span class="line">-h 或 --no-filename : 在显示符合样式的那一行之前，不标示该行所属的文件名称。</span>
<span class="line">-H 或 --with-filename : 在显示符合样式的那一行之前，表示该行所属的文件名称。</span>
<span class="line">-i 或 --ignore-case : 忽略字符大小写的差别。</span>
<span class="line">-l 或 --file-with-matches : 列出文件内容符合指定的样式的文件名称。</span>
<span class="line">-L 或 --files-without-match : 列出文件内容不符合指定的样式的文件名称。</span>
<span class="line">-n 或 --line-number : 在显示符合样式的那一行之前，标示出该行的列数编号。</span>
<span class="line">-o 或 --only-matching : 只显示匹配PATTERN 部分。</span>
<span class="line">-q 或 --quiet或--silent : 不显示任何信息。</span>
<span class="line">-r 或 --recursive : 此参数的效果和指定&quot;-d recurse&quot;参数相同。</span>
<span class="line">-s 或 --no-messages : 不显示错误信息。</span>
<span class="line">-v 或 --invert-match : 显示不包含匹配文本的所有行。</span>
<span class="line">-V 或 --version : 显示版本信息。</span>
<span class="line">-w 或 --word-regexp : 只显示全字符合的列。</span>
<span class="line">-x --line-regexp : 只显示全列符合的列。</span>
<span class="line">-y : 此参数的效果和指定&quot;-i&quot;参数相同。</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例-6" tabindex="-1"><a class="header-anchor" href="#示例-6"><span>示例</span></a></h3><ol><li>显示/proc/meminfo文件中以大小写s开头的行</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /proc/meminfo <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-io</span> <span class="token string">&quot;^[s].*&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>取出默认shell为非bash的用户</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token string">&quot;[bash]$&quot;</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-d</span> <span class="token builtin class-name">:</span> <span class="token parameter variable">-f</span> <span class="token number">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>取出默认shell为bash的且其ID号最大的用户</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;bash$&quot;</span> <span class="token operator">|</span> <span class="token function">cut</span> -d: <span class="token parameter variable">-f</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-nr</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="4"><li>显示/boot/grub/grub.conf中以至少一个空白字符开头的行</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /boot/grub/grub.conf <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;^[[:space:]]\\+&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="5"><li>找出/etc/passwd文件中一位数或两位数</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-o</span> <span class="token string">&quot;\\&lt;[0-9][0-9]\\&gt;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="6"><li>找出ifconfig命令结果中所有ip地址</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ifconfig</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-o</span> <span class="token string">&quot;[0-9.]\\{7,\\}&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="7"><li>添加用户bash和testbash、basher，而后找出当前系统上其用户名和默认shell相同的用户</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token string">&quot;^\\&lt;([[:alpha:]]{1,})\\&gt;:.*<span class="token entity" title="\\1">\\1</span>$&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="8"><li>统计/etc/rc.d/rc.sysinit文件中以#开头的行的行数，以及空白行的行数</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token string">&quot;^#.*&quot;</span> /etc/rc.d/rc.sysinit <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span></span>
<span class="line"><span class="token function">grep</span> <span class="token string">&quot;^$&quot;</span> /etc/rc.d/rc.sysinit <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="9"><li>利用df和grep，取出磁盘各分区利用率，并从大到小排序</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">df</span> <span class="token parameter variable">-h</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;^/dev&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-o</span> <span class="token string">&quot;[0-9]\\+%&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-o</span> <span class="token string">&quot;[0-9]\\+&quot;</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-nr</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="10"><li>显示匹配某个结果的前三行和后三行</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token string">&quot;5&quot;</span> <span class="token parameter variable">-C</span> <span class="token number">3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="11"><li>显示匹配某个结果之前的3行</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token string">&quot;5&quot;</span> <span class="token parameter variable">-B</span> <span class="token number">3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="12"><li>显示匹配某个结果之后的3行</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token string">&quot;5&quot;</span> <span class="token parameter variable">-A</span> <span class="token number">3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="13"><li>匹配多个字符</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">echo</span> this is a text line <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;is&quot;</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;line&quot;</span> <span class="token parameter variable">-o</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="14"><li>统计文件或者文本中包含匹配字符串的行数</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;text&quot;</span> file_name</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="15"><li>匹配字符串的行数</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token string">&quot;text&quot;</span> <span class="token parameter variable">-n</span> file_name</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="16"><li>只在目录中所有的.php和.html文件中递归搜索字符&quot;main()&quot;</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token string">&quot;main()&quot;</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">--include</span> *.<span class="token punctuation">{</span>php,html<span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="17"><li>在搜索结果中排除所有README文件</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token string">&quot;main()&quot;</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">--exclude</span> <span class="token string">&quot;README&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="18"><li>在搜索结果中排除filelist文件列表里的文件</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">grep</span> <span class="token string">&quot;main()&quot;</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-r</span> --exclude-from filelist</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="split" tabindex="-1"><a class="header-anchor" href="#split"><span>split</span></a></h2><h3 id="语法-9" tabindex="-1"><a class="header-anchor" href="#语法-9"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">split</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>输入文件<span class="token punctuation">]</span> <span class="token punctuation">[</span>输出文件前缀<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="参数说明-9" tabindex="-1"><a class="header-anchor" href="#参数说明-9"><span>参数说明</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">-b SIZE	按大小分割（如 -b 100M、-b 2G）</span>
<span class="line">-l NUM	按行数分割（如 -l 1000）</span>
<span class="line">-d	使用数字后缀（默认 00, 01, 02...）</span>
<span class="line">-a LEN	数字后缀长度（如 -a 3 → 000, 001）</span>
<span class="line">--numeric-suffixes=N	数字后缀从 N 开始（如 --numeric-suffixes=1 → 01, 02）</span>
<span class="line">--additional-suffix=SUF	添加额外后缀（如 --additional-suffix=.log）</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例-7" tabindex="-1"><a class="header-anchor" href="#示例-7"><span>示例</span></a></h3><ol><li>将 10GB 文件分割成 1GB 的分卷</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">split</span> <span class="token parameter variable">-b</span> 1G large_file.tar.gz <span class="token string">&quot;split_file_&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 输出文件：</span></span>
<span class="line"><span class="token comment"># split_file_aa, split_file_ab, split_file_ac...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>每 1000 行分割为一个文件</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">split</span> <span class="token parameter variable">-l</span> <span class="token number">1000</span> data.txt <span class="token string">&quot;split_data_&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>使用数字后缀</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 分割文件，后缀为 00, 01, 02...</span></span>
<span class="line"><span class="token function">split</span> <span class="token parameter variable">-b</span> 500M <span class="token parameter variable">-d</span> data.bin <span class="token string">&quot;part_&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 输出文件：</span></span>
<span class="line"><span class="token comment"># part_00, part_01, part_02...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>自定义后缀起始值和位数</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 后缀从 01 开始，占 2 位（01, 02...）</span></span>
<span class="line"><span class="token function">split</span> <span class="token parameter variable">-b</span> 200M --numeric-suffixes<span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-a</span> <span class="token number">2</span> big_file.zip <span class="token string">&quot;file_part_&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 输出文件：</span></span>
<span class="line"><span class="token comment"># file_part_01, file_part_02...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>添加额外后缀</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 分割文件并添加 .part 后缀</span></span>
<span class="line"><span class="token function">split</span> <span class="token parameter variable">-b</span> 100M --additional-suffix<span class="token operator">=</span><span class="token string">&quot;.part&quot;</span> archive.tar.gz <span class="token string">&quot;archive_&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 输出文件：</span></span>
<span class="line"><span class="token comment"># archive_aa.part, archive_ab.part...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>合并分割后的文件</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 合并所有 part_* 文件</span></span>
<span class="line"><span class="token function">cat</span> part_* <span class="token operator">&gt;</span> original_file.tar.gz</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 如果后缀是字母（aa, ab...），按字典序合并</span></span>
<span class="line"><span class="token function">cat</span> split_file_* <span class="token operator">&gt;</span> original_file</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li>分卷压缩并分割</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">tar</span> <span class="token parameter variable">-czvf</span> - /data <span class="token operator">|</span> <span class="token function">split</span> <span class="token parameter variable">-b</span> 1G - <span class="token string">&quot;data_backup.tar.gz.part_&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="根据端口号获取pid" tabindex="-1"><a class="header-anchor" href="#根据端口号获取pid"><span>根据端口号获取PID</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">netstat</span> -anp<span class="token operator">|</span><span class="token function">grep</span> <span class="token number">3031</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf $7}&#39;</span><span class="token operator">|</span><span class="token function">cut</span> -d/ -f1<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;END {print}&#39;</span></span>
<span class="line"><span class="token function">lsof</span> <span class="token parameter variable">-n</span> -i4TCP:<span class="token string">&quot;7011&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> LISTEN <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">grep</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;END {print}&#39;</span></span>
<span class="line"><span class="token function">netstat</span> -anp<span class="token operator">|</span><span class="token function">grep</span> <span class="token number">3306</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf $7}&#39;</span><span class="token operator">|</span><span class="token function">cut</span> -d/ <span class="token parameter variable">-f1</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-nlp</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-w</span> 端口号 <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-r</span> <span class="token string">&#39;s#.* (.*)/.*#\\1#&#39;</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-nlp</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-nr</span> <span class="token string">&#39;/端口号/s#.* (.*)/.*#\\1#p&#39;</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-nlp</span> <span class="token operator">|</span> <span class="token function">awk</span> -F<span class="token string">&#39;[ /]*&#39;</span> <span class="token string">&#39;/端口号/{print $(NF-2)}&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查看linux发行版本" tabindex="-1"><a class="header-anchor" href="#查看linux发行版本"><span>查看linux发行版本</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/*-release</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="终端快捷键" tabindex="-1"><a class="header-anchor" href="#终端快捷键"><span>终端快捷键</span></a></h2><table><thead><tr><th><div style="width:80px;">快捷键</div></th><th><div style="width:300px;">作用</div></th></tr></thead><tbody><tr><td>ctrl+A</td><td>把光标移动到命令行开头。如果我们输入的命令过长，想要把光标移动到命令行开头时使用。</td></tr><tr><td>ctrl+E</td><td>把光标移动到命令行结尾。</td></tr><tr><td>ctrl+C</td><td>强制终止当前的命令。</td></tr><tr><td>ctrl+L</td><td>清屏，相当于clear命令。</td></tr><tr><td>ctrl+U</td><td>删除或剪切光标之前的命令。我输入了一.行很长的命令，不用使用退格键一个一个字符的删除，使用这个快捷键会更加方便</td></tr><tr><td>ctrl+K</td><td>删除或剪切光标之后的内容。</td></tr><tr><td>ctrl+Y</td><td>粘贴ctrl+U或ctrl+K剪切的内容。</td></tr><tr><td>ctrl+R</td><td>在历史命令中搜索，按下ctrl+R之后，就会出现搜索界面，只要输入搜索内容，就会从历史命令中搜索。</td></tr><tr><td>ctrl+D</td><td>退出当前终端。</td></tr><tr><td>ctrl+Z</td><td>暂停，并放入后台。</td></tr><tr><td>ctrl+S</td><td>暂停屏幕输出。</td></tr><tr><td>ctrl+Q</td><td>恢复屏幕输出。</td></tr></tbody></table><h2 id="查看系统日志" tabindex="-1"><a class="header-anchor" href="#查看系统日志"><span>查看系统日志</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">egrep</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-B100</span> <span class="token string">&#39;killed process&#39;</span></span>
<span class="line"><span class="token function">egrep</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;killed process&#39;</span> /var/log/messages</span>
<span class="line"><span class="token function">egrep</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-r</span> <span class="token string">&#39;killed process&#39;</span> /var/log</span>
<span class="line">journalctl <span class="token parameter variable">-xb</span> <span class="token operator">|</span> <span class="token function">egrep</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;killed process&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="清空文件-日志" tabindex="-1"><a class="header-anchor" href="#清空文件-日志"><span>清空文件（日志）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /dev/null <span class="token operator">&gt;</span> nohup.out</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查看进程所在路径" tabindex="-1"><a class="header-anchor" href="#查看进程所在路径"><span>查看进程所在路径</span></a></h2><p>查看fcs进程所在路径</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span>root@iZ8mo01jezbn230jhebkotZ ~<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep fcs |grep -v grep| awk &#39;{print $2}&#39; | xargs -I &#39;{}&#39; ls -l /proc/{}/cwd        </span></span>
<span class="line">lrwxrwxrwx <span class="token number">1</span> admin admin <span class="token number">0</span> Jul  <span class="token number">3</span> <span class="token number">14</span>:18 /proc/30086/cwd -<span class="token operator">&gt;</span> /home/admin</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查看僵尸进程" tabindex="-1"><a class="header-anchor" href="#查看僵尸进程"><span>查看僵尸进程</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ps</span> <span class="token parameter variable">-al</span> <span class="token operator">|</span> <span class="token function">gawk</span> <span class="token string">&#39;{print $2,$4}&#39;</span> <span class="token operator">|</span> <span class="token function">grep</span> Z</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="比较两个目录文件是否一致" tabindex="-1"><a class="header-anchor" href="#比较两个目录文件是否一致"><span>比较两个目录文件是否一致</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> ./目录1 <span class="token parameter variable">-type</span> f <span class="token parameter variable">-exec</span> md5sum <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">&#39;s/目录2/&#39;</span><span class="token operator">|</span>md5sum <span class="token parameter variable">-c</span> <span class="token operator">&gt;</span>md5.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>跨机对比文件</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">find</span> /目录1/ <span class="token parameter variable">-type</span> f <span class="token parameter variable">-exec</span> md5sum <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span><span class="token operator">|</span><span class="token function">ssh</span> <span class="token number">192.168</span>.1.250 <span class="token string">&quot;sed &#39;s/目录2/&#39;|md5sum -c&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查找并删除文件" tabindex="-1"><a class="header-anchor" href="#查找并删除文件"><span>查找并删除文件</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 第一种：</span></span>
<span class="line"><span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;test*&#39;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 第二种：</span></span>
<span class="line"><span class="token function">find</span> ./ <span class="token parameter variable">-name</span> <span class="token string">&#39;*.test&#39;</span> <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span>                                 <span class="token comment">#比较常用</span></span>
<span class="line">或</span>
<span class="line"><span class="token function">find</span> ./ <span class="token parameter variable">-name</span> <span class="token string">&#39;*.test&#39;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span></span>
<span class="line"></span>
<span class="line"><span class="token function">find</span> ./*.test <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span></span>
<span class="line">或 </span>
<span class="line"><span class="token function">find</span> ./*.test <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 第三种：</span></span>
<span class="line"><span class="token assign-left variable">aa</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;test*&#39;</span><span class="token variable">)</span></span></span>
<span class="line"><span class="token function">rm</span> <span class="token variable">$aa</span></span>
<span class="line"><span class="token comment"># 注意：用管道符拼接后无法删除</span></span>
<span class="line"><span class="token assign-left variable">aa</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;test*&#39;</span><span class="token variable">)</span></span> <span class="token operator">|</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token variable">$aa</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#还有就是下面的这个原因还没搞明白，原因如下：</span></span>
<span class="line"><span class="token comment">#其次正则中 * 为限定符，修饰前一个字符或分组重复零次或多次。</span></span>
<span class="line"><span class="token comment">#而 * 在开头前面没有字符或分组。所以匹配不到</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#扩展,找到根目录下所有的以test开头的文件并把查找结果当做参数传给rm -rf命令进行删除： </span></span>
<span class="line"><span class="token number">1</span>、find / <span class="token parameter variable">-name</span> “test*” <span class="token operator">|</span><span class="token function">xargs</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> </span>
<span class="line"><span class="token number">2</span>、find / <span class="token parameter variable">-name</span> “test*” <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token number">3</span>、rm <span class="token parameter variable">-rf</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">find</span> / <span class="token parameter variable">-name</span> “test”<span class="token variable">)</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#如果想指定递归深度，可以这样： </span></span>
<span class="line"><span class="token number">1</span>、find / <span class="token parameter variable">-maxdepth</span> <span class="token number">3</span> <span class="token parameter variable">-name</span> “*.mp3” <span class="token operator">|</span><span class="token function">xargs</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> </span>
<span class="line"><span class="token number">2</span>、find / <span class="token parameter variable">-maxdepth</span> <span class="token number">3</span> <span class="token parameter variable">-name</span> “test*” <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token number">3</span>、rm <span class="token parameter variable">-rf</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">find</span> / <span class="token parameter variable">-maxdepth</span> <span class="token number">3</span> <span class="token parameter variable">-name</span> “test”<span class="token variable">)</span></span> </span>
<span class="line"><span class="token comment"># 这样只会查找三层目录中符合条件的文件并删除掉！ </span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 将/usr/local/backups目录下所有10天前带&quot;.&quot;的文件删除</span></span>
<span class="line"><span class="token function">find</span> /usr/local/backups <span class="token parameter variable">-mtime</span> +10 <span class="token parameter variable">-name</span> <span class="token string">&quot;*.*&quot;</span> <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="防火墙" tabindex="-1"><a class="header-anchor" href="#防火墙"><span>防火墙</span></a></h2><h3 id="centos-7" tabindex="-1"><a class="header-anchor" href="#centos-7"><span>Centos 7</span></a></h3><p>CentOS7 的防火墙配置跟以前版本有很大区别，CentOS7 这个版本的防火墙默认使用的是firewall，与之前的版本使用iptables不一样</p><h4 id="查看防火墙状态" tabindex="-1"><a class="header-anchor" href="#查看防火墙状态"><span>查看防火墙状态</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl status firewalld</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">firewall-cmd <span class="token parameter variable">--state</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="关闭防火墙" tabindex="-1"><a class="header-anchor" href="#关闭防火墙"><span>关闭防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl stop firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="开启防火墙" tabindex="-1"><a class="header-anchor" href="#开启防火墙"><span>开启防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl start firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="开启开机启动" tabindex="-1"><a class="header-anchor" href="#开启开机启动"><span>开启开机启动</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl <span class="token builtin class-name">enable</span> firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="关闭开机启动" tabindex="-1"><a class="header-anchor" href="#关闭开机启动"><span>关闭开机启动</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl disable firewalld.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="开启端口" tabindex="-1"><a class="header-anchor" href="#开启端口"><span>开启端口</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp <span class="token parameter variable">--permanent</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>--permanent: 永久生效</li><li>--add-port: 端口和协议，可以是范围，如：8080-8090/tcp</li></ul><h4 id="重启防火墙" tabindex="-1"><a class="header-anchor" href="#重启防火墙"><span>重启防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">firewall-cmd <span class="token parameter variable">--reload</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="查询某个端口是否开放" tabindex="-1"><a class="header-anchor" href="#查询某个端口是否开放"><span>查询某个端口是否开放</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">firewall-cmd --query-port<span class="token operator">=</span><span class="token number">80</span>/tcp</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="移除端口" tabindex="-1"><a class="header-anchor" href="#移除端口"><span>移除端口</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --remove-port<span class="token operator">=</span><span class="token number">80</span>/tcp <span class="token parameter variable">--permanent</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">firewall-cmd <span class="token parameter variable">--permanent</span> --remove-port<span class="token operator">=</span><span class="token number">123</span>/tcp</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="查询已经开放的端口列表" tabindex="-1"><a class="header-anchor" href="#查询已经开放的端口列表"><span>查询已经开放的端口列表</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">firewall-cmd --list-port</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>--zone #作用域</li><li>--add-port=80/tcp #添加端口，格式为：端口/通讯协议</li><li>--remove-port=80/tcp #移除端口，格式为：端口/通讯协议</li><li>--permanent #永久生效，没有此参数重启后失效</li></ul><h3 id="centos6" tabindex="-1"><a class="header-anchor" href="#centos6"><span>CentOS6</span></a></h3><h4 id="查看防火墙状态-1" tabindex="-1"><a class="header-anchor" href="#查看防火墙状态-1"><span>查看防火墙状态</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">service</span> iptables status</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="开启防火墙-1" tabindex="-1"><a class="header-anchor" href="#开启防火墙-1"><span>开启防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">service</span> iptables start</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="关闭防火墙-1" tabindex="-1"><a class="header-anchor" href="#关闭防火墙-1"><span>关闭防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">service</span> iptables stop</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu"><span>Ubuntu</span></a></h3><h4 id="查看防火墙状态-2" tabindex="-1"><a class="header-anchor" href="#查看防火墙状态-2"><span>查看防火墙状态</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">ufw status</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="开启防火墙-2" tabindex="-1"><a class="header-anchor" href="#开启防火墙-2"><span>开启防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">ufw <span class="token builtin class-name">enable</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="关闭防火墙-2" tabindex="-1"><a class="header-anchor" href="#关闭防火墙-2"><span>关闭防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">ufw disable</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="dns" tabindex="-1"><a class="header-anchor" href="#dns"><span>DNS</span></a></h2><p>centos7 配置防火墙</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">vim</span> /etc/resolv.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>添加内容</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">nameserver 114.114.114.114</span>
<span class="line">nameserver 8.8.8.8</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="最后启动时间" tabindex="-1"><a class="header-anchor" href="#最后启动时间"><span>最后启动时间</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">who</span> <span class="token parameter variable">-b</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="重启记录" tabindex="-1"><a class="header-anchor" href="#重启记录"><span>重启记录</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">last <span class="token function">reboot</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="运行时间" tabindex="-1"><a class="header-anchor" href="#运行时间"><span>运行时间</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">uptime</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="使用-pem登录" tabindex="-1"><a class="header-anchor" href="#使用-pem登录"><span>使用<code>.pem</code>登录</span></a></h2><p>授权</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">chmod</span> <span class="token number">600</span> xxx.pem</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>登录 ssh</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ssh</span> <span class="token parameter variable">-i</span> xxx.pem 用户@ip</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>登录sftp</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sftp</span> <span class="token parameter variable">-i</span> xxx.pem 用户@ip</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="linux-全局时间格式化" tabindex="-1"><a class="header-anchor" href="#linux-全局时间格式化"><span>linux 全局时间格式化</span></a></h2><div class="language-sehll line-numbers-mode" data-highlighter="prismjs" data-ext="sehll" data-title="sehll"><pre><code><span class="line">cat &gt;&gt; ~/.bash_profile &lt;&lt; &#39;EOF&#39;</span>
<span class="line">export TIME_STYLE=&#39;+%Y-%m-%d %H:%M:%S&#39;</span>
<span class="line">EOF</span>
<span class="line">source ~/.bash_profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,289))])}const h=t(o,[["render",v],["__file","01-Linux常用命令.html.vue"]]),k=JSON.parse('{"path":"/docs/linux/01-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"Linux 常用","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"`","slug":"","link":"#","children":[]},{"level":2,"title":"$","slug":"-1","link":"#-1","children":[]},{"level":2,"title":"find","slug":"find","link":"#find","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"参数说明","slug":"参数说明","link":"#参数说明","children":[]},{"level":3,"title":"示例","slug":"示例","link":"#示例","children":[]}]},{"level":2,"title":"cut","slug":"cut","link":"#cut","children":[{"level":3,"title":"语法","slug":"语法-1","link":"#语法-1","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-1","link":"#参数说明-1","children":[]}]},{"level":2,"title":"route","slug":"route","link":"#route","children":[]},{"level":2,"title":"tar","slug":"tar","link":"#tar","children":[{"level":3,"title":"语法","slug":"语法-2","link":"#语法-2","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-2","link":"#参数说明-2","children":[]},{"level":3,"title":"示例","slug":"示例-1","link":"#示例-1","children":[]}]},{"level":2,"title":"pidstat","slug":"pidstat","link":"#pidstat","children":[{"level":3,"title":"语法","slug":"语法-3","link":"#语法-3","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-3","link":"#参数说明-3","children":[]},{"level":3,"title":"示例","slug":"示例-2","link":"#示例-2","children":[]}]},{"level":2,"title":"tsar","slug":"tsar","link":"#tsar","children":[{"level":3,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":3,"title":"语法","slug":"语法-4","link":"#语法-4","children":[]},{"level":3,"title":"示例","slug":"示例-3","link":"#示例-3","children":[]}]},{"level":2,"title":"history","slug":"history","link":"#history","children":[]},{"level":2,"title":"top","slug":"top","link":"#top","children":[{"level":3,"title":"语法","slug":"语法-5","link":"#语法-5","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-5","link":"#参数说明-5","children":[]}]},{"level":2,"title":"awk","slug":"awk","link":"#awk","children":[{"level":3,"title":"语法","slug":"语法-6","link":"#语法-6","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-6","link":"#参数说明-6","children":[]},{"level":3,"title":"示例","slug":"示例-4","link":"#示例-4","children":[]}]},{"level":2,"title":"sed","slug":"sed","link":"#sed","children":[{"level":3,"title":"语法","slug":"语法-7","link":"#语法-7","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-7","link":"#参数说明-7","children":[]},{"level":3,"title":"示例","slug":"示例-5","link":"#示例-5","children":[]}]},{"level":2,"title":"grep","slug":"grep","link":"#grep","children":[{"level":3,"title":"语法","slug":"语法-8","link":"#语法-8","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-8","link":"#参数说明-8","children":[]},{"level":3,"title":"示例","slug":"示例-6","link":"#示例-6","children":[]}]},{"level":2,"title":"split","slug":"split","link":"#split","children":[{"level":3,"title":"语法","slug":"语法-9","link":"#语法-9","children":[]},{"level":3,"title":"参数说明","slug":"参数说明-9","link":"#参数说明-9","children":[]},{"level":3,"title":"示例","slug":"示例-7","link":"#示例-7","children":[]}]},{"level":2,"title":"根据端口号获取PID","slug":"根据端口号获取pid","link":"#根据端口号获取pid","children":[]},{"level":2,"title":"查看linux发行版本","slug":"查看linux发行版本","link":"#查看linux发行版本","children":[]},{"level":2,"title":"终端快捷键","slug":"终端快捷键","link":"#终端快捷键","children":[]},{"level":2,"title":"查看系统日志","slug":"查看系统日志","link":"#查看系统日志","children":[]},{"level":2,"title":"清空文件（日志）","slug":"清空文件-日志","link":"#清空文件-日志","children":[]},{"level":2,"title":"查看进程所在路径","slug":"查看进程所在路径","link":"#查看进程所在路径","children":[]},{"level":2,"title":"查看僵尸进程","slug":"查看僵尸进程","link":"#查看僵尸进程","children":[]},{"level":2,"title":"比较两个目录文件是否一致","slug":"比较两个目录文件是否一致","link":"#比较两个目录文件是否一致","children":[]},{"level":2,"title":"查找并删除文件","slug":"查找并删除文件","link":"#查找并删除文件","children":[]},{"level":2,"title":"防火墙","slug":"防火墙","link":"#防火墙","children":[{"level":3,"title":"Centos 7","slug":"centos-7","link":"#centos-7","children":[]},{"level":3,"title":"CentOS6","slug":"centos6","link":"#centos6","children":[]},{"level":3,"title":"Ubuntu","slug":"ubuntu","link":"#ubuntu","children":[]}]},{"level":2,"title":"DNS","slug":"dns","link":"#dns","children":[]},{"level":2,"title":"最后启动时间","slug":"最后启动时间","link":"#最后启动时间","children":[]},{"level":2,"title":"重启记录","slug":"重启记录","link":"#重启记录","children":[]},{"level":2,"title":"运行时间","slug":"运行时间","link":"#运行时间","children":[]},{"level":2,"title":"使用.pem登录","slug":"使用-pem登录","link":"#使用-pem登录","children":[]},{"level":2,"title":"linux 全局时间格式化","slug":"linux-全局时间格式化","link":"#linux-全局时间格式化","children":[]}],"git":{"updatedTime":1754373269000,"contributors":[{"name":"wangxiaoquan","email":"wxq","commits":15}]},"filePathRelative":"docs/linux/01-Linux常用命令.md"}');export{h as comp,k as data};
