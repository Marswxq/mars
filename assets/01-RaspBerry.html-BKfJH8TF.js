import{_ as a,c as e,d as n,o as i}from"./app-CKtXyHQO.js";const l={};function t(d,s){return i(),e("div",null,s[0]||(s[0]=[n(`<h1 id="树莓派" tabindex="-1"><a class="header-anchor" href="#树莓派"><span>树莓派</span></a></h1><h2 id="关机" tabindex="-1"><a class="header-anchor" href="#关机"><span>关机</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">shutdown</span> <span class="token parameter variable">-h</span> </span>
<span class="line"><span class="token function">sudo</span> <span class="token function">halt</span></span>
<span class="line"><span class="token function">sudo</span> poweroff</span>
<span class="line"><span class="token function">sudo</span> init <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重启" tabindex="-1"><a class="header-anchor" href="#重启"><span>重启</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">reboot</span></span>
<span class="line"><span class="token function">shutdown</span> <span class="token parameter variable">-r</span> now</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> raspi-config</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="中文输入法" tabindex="-1"><a class="header-anchor" href="#中文输入法"><span>中文输入法</span></a></h2><p>安装 fcitx 框架，支持 Google 拼音输入法</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 更新 apt 源</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update </span>
<span class="line"><span class="token comment"># 安装 fcitx 框架</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> fcitx-googlepinyin</span>
<span class="line"><span class="token comment"># 重启</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">reboot</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 Ctrl + Space 切换输入法</p><h2 id="查看型号" tabindex="-1"><a class="header-anchor" href="#查看型号"><span>查看型号</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /sys/firmware/devicetree/base/model</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者通过 <code>sudo raspi-config</code> 进入配置页面，观察左上角输出的系统型号</p><h2 id="查看电压" tabindex="-1"><a class="header-anchor" href="#查看电压"><span>查看电压</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">vcgencmd measure_volts</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查看-cpu-温度" tabindex="-1"><a class="header-anchor" href="#查看-cpu-温度"><span>查看 cpu 温度</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">vcgencmd measure_temp</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="防火墙" tabindex="-1"><a class="header-anchor" href="#防火墙"><span>防火墙</span></a></h2><ul><li>Raspberry Pi 10（基于 Debian 10 Buster）和更新版本默认使用 <code>nftables</code></li><li>Raspberry Pi 9（基于 Debian 9 Stretch）及更早版本默认使用 <code>iptables</code></li><li>也可以通过 <code>ufw</code> 替代系统默认防火墙</li></ul><h3 id="raspberry-pi-10-nftables" tabindex="-1"><a class="header-anchor" href="#raspberry-pi-10-nftables"><span>Raspberry Pi 10 <code>nftables</code></span></a></h3><h4 id="查看防火墙状态" tabindex="-1"><a class="header-anchor" href="#查看防火墙状态"><span>查看防火墙状态</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl status nftables.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="启动防火墙" tabindex="-1"><a class="header-anchor" href="#启动防火墙"><span>启动防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl start nftables.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="关闭防火墙" tabindex="-1"><a class="header-anchor" href="#关闭防火墙"><span>关闭防火墙</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl stop nftables.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="将-nftables-防火墙配置为在系统启动时默认启动" tabindex="-1"><a class="header-anchor" href="#将-nftables-防火墙配置为在系统启动时默认启动"><span>将 nftables 防火墙配置为在系统启动时默认启动</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> nftables.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="将-nftables-防火墙配置为在系统启动时默认关闭" tabindex="-1"><a class="header-anchor" href="#将-nftables-防火墙配置为在系统启动时默认关闭"><span>将 nftables 防火墙配置为在系统启动时默认关闭</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl disable nftables.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="检查当前配置的-nftables-防火墙规则" tabindex="-1"><a class="header-anchor" href="#检查当前配置的-nftables-防火墙规则"><span>检查当前配置的 nftables 防火墙规则</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> nft list ruleset</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="刷新-删除-所有当前配置的-nftables-防火墙规则" tabindex="-1"><a class="header-anchor" href="#刷新-删除-所有当前配置的-nftables-防火墙规则"><span>刷新（删除）所有当前配置的 nftables 防火墙规则</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> nft flush ruleset</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="raspberry-pi-9-iptables" tabindex="-1"><a class="header-anchor" href="#raspberry-pi-9-iptables"><span>Raspberry Pi 9 <code>iptables</code></span></a></h3><p>使用参考 <a href="../linux/01-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4#centos6">centos6</a></p><h3 id="自定义-ufw" tabindex="-1"><a class="header-anchor" href="#自定义-ufw"><span>自定义 <code>ufw</code></span></a></h3><p>使用参考 <a href="../linux/01-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4#ubuntu">ubuntu</a></p><h2 id="挂载移动硬盘" tabindex="-1"><a class="header-anchor" href="#挂载移动硬盘"><span>挂载移动硬盘</span></a></h2><p>安装工具</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ntfs-3g exfat-fuse exfat-utils <span class="token parameter variable">-y</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>查看硬盘信息</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> blkid</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输出信息</p><div class="language-txt line-numbers-mode" data-highlighter="prismjs" data-ext="txt" data-title="txt"><pre><code><span class="line">/dev/mmcblk0p2: LABEL=&quot;rootfs&quot; UUID=&quot;c5583856-6226-4aa4-b8ce-3dc9b364c82d&quot; BLOCK_SIZE=&quot;4096&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;8f71891c-02&quot;</span>
<span class="line">/dev/mmcblk0p1: LABEL_FATBOOT=&quot;bootfs&quot; LABEL=&quot;bootfs&quot; UUID=&quot;F781-C387&quot; BLOCK_SIZE=&quot;512&quot; TYPE=&quot;vfat&quot; PARTUUID=&quot;8f71891c-01&quot;</span>
<span class="line">/dev/sda4: LABEL=&quot;Bakup&quot; BLOCK_SIZE=&quot;512&quot; UUID=&quot;6220F16E20F14A15&quot; TYPE=&quot;ntfs&quot; PARTLABEL=&quot;Basic data partition&quot; PARTUUID=&quot;9090e239-b0cd-4f9a-81a6-f74fe94b42b6&quot;</span>
<span class="line">/dev/sda2: LABEL=&quot;SYSTEM&quot; UUID=&quot;F077-CB57&quot; BLOCK_SIZE=&quot;512&quot; TYPE=&quot;vfat&quot; PARTLABEL=&quot;EFI system partition&quot; PARTUUID=&quot;e1c7a92e-6360-4bfe-8cf5-23c92817351f&quot;</span>
<span class="line">/dev/sda3: PARTLABEL=&quot;Microsoft reserved partition&quot; PARTUUID=&quot;345da52f-95ce-4931-8442-2973e78bdaa4&quot;</span>
<span class="line">/dev/sda1: LABEL=&quot;Windows RE tools&quot; BLOCK_SIZE=&quot;512&quot; UUID=&quot;D06275DA6275C62E&quot; TYPE=&quot;ntfs&quot; PARTLABEL=&quot;Basic data partition&quot; PARTUUID=&quot;95f50e92-8c7a-4d62-bd63-e656c527b6ed&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>记下你的硬盘分区标识（例如 /dev/sda1）</li><li>记下它的 UUID（非常重要！比设备名更稳定）</li><li>记下它的 TYPE（如 ext4, ntfs, exfat, vfat）</li></ul><ol start="2"><li>创建挂载点</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 创建一个目录，名字可以自定义，如 &#39;myhdd&#39;</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">mkdir</span> /mnt/myhdd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 更改挂载点的所有者为你常用的用户（例如 pi），方便读写</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">chown</span> pi:pi /mnt/myhdd</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>编辑 /etc/fstab 文件</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/fstab</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>添加开机自动挂载</p><div class="language-txt line-numbers-mode" data-highlighter="prismjs" data-ext="txt" data-title="txt"><pre><code><span class="line"># &lt;file system&gt;         &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;           &lt;dump&gt;  &lt;pass&gt;</span>
<span class="line">UUID=d4c5b8a2...1d2e3f  /mnt/myhdd      ext4    defaults,noatime,nofail  0  2</span>
<span class="line"># 如果是 NTFS</span>
<span class="line"># UUID=56220F16E20F14A15 /home/Mars/data ntfs defaults,uid=1000,gid=1000,umask=000,nofail 0 0</span>
<span class="line"># 如果是 exFAT</span>
<span class="line"># UUID=5C1A-8A7B        /mnt/myhdd      exfat   defaults,uid=1000,gid=1000,umask=000,nofail 0 0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>验证</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl daemon-reload</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">mount</span> <span class="token parameter variable">-a</span></span>
<span class="line"><span class="token function">df</span> <span class="token parameter variable">-h</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>重启</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">reboot</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重启后验证</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">df</span> <span class="token parameter variable">-h</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="部署-openmediavault" tabindex="-1"><a class="header-anchor" href="#部署-openmediavault"><span>部署 OpenMediaVault</span></a></h2><p>**注意:**部署 OpenMediaVault 需要使用 Raspberry Pi OS Lite ，桌面版本无法安装</p><ol><li>更新 apt 源</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>通过 cdn 安装</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">wget</span> <span class="token parameter variable">-O</span> - https://cdn.jsdelivr.net/gh/OpenMediaVault-Plugin-Developers/installScript@master/install <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>PS~~~ 漫长的等待</p><ol start="3"><li>网络配置</li></ol><p>安装 OpenMediaVault 时，发现安装脚本把树莓派的网络移除了，尤其是 wifi 网络，安装后发现连不上树莓派了。</p><p>这个步骤卡了很久，尝试过好多种修复方式，最后妥协了~~~</p><p>找个显示器、键盘先连上树莓派，然后找个网线把树莓派和路由器脸上（由于我树莓派的位置不想放在路由器边上，随便再找个垃圾路由器，通过无线桥接到主路由，然后再通过网线连到树莓派）。 这个时候就可以通过 PC 端连到树莓派了，也可以直接在树莓派上啊从做。接下来恢复树莓派的 wifi 网络。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> dhcpcd5 network-manager</span>
<span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> dhcpcd</span>
<span class="line"><span class="token function">sudo</span> systemctl start dhcpcd</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">reboot</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>登录</li></ol><p>配置好 wifi 后，可以通过 PC 愉快的登录控制台了</p><blockquote><p>地址：http://树莓派ip地址</p><p>用户：admin</p><p>密码：openmediavault</p></blockquote>`,74)]))}const r=a(l,[["render",t],["__file","01-RaspBerry.html.vue"]]),c=JSON.parse('{"path":"/docs/raspberry/01-RaspBerry.html","title":"树莓派","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"关机","slug":"关机","link":"#关机","children":[]},{"level":2,"title":"重启","slug":"重启","link":"#重启","children":[]},{"level":2,"title":"配置","slug":"配置","link":"#配置","children":[]},{"level":2,"title":"中文输入法","slug":"中文输入法","link":"#中文输入法","children":[]},{"level":2,"title":"查看型号","slug":"查看型号","link":"#查看型号","children":[]},{"level":2,"title":"查看电压","slug":"查看电压","link":"#查看电压","children":[]},{"level":2,"title":"查看 cpu 温度","slug":"查看-cpu-温度","link":"#查看-cpu-温度","children":[]},{"level":2,"title":"防火墙","slug":"防火墙","link":"#防火墙","children":[{"level":3,"title":"Raspberry Pi 10 nftables","slug":"raspberry-pi-10-nftables","link":"#raspberry-pi-10-nftables","children":[]},{"level":3,"title":"Raspberry Pi 9 iptables","slug":"raspberry-pi-9-iptables","link":"#raspberry-pi-9-iptables","children":[]},{"level":3,"title":"自定义 ufw","slug":"自定义-ufw","link":"#自定义-ufw","children":[]}]},{"level":2,"title":"挂载移动硬盘","slug":"挂载移动硬盘","link":"#挂载移动硬盘","children":[]},{"level":2,"title":"部署 OpenMediaVault","slug":"部署-openmediavault","link":"#部署-openmediavault","children":[]}],"git":{"updatedTime":1757580497000,"contributors":[{"name":"wangxiaoquan","email":"wxq","commits":9}]},"filePathRelative":"docs/raspberry/01-RaspBerry.md"}');export{r as comp,c as data};
