import{_ as i,c as p,a as t,b as l,w as n,d as o,r,o as m,e as s}from"./app-CKtXyHQO.js";const d="/mars/images/kettle/kettle_memory.png",c="/mars/images/kettle/kettle_open.png",k="/mars/images/kettle/kettle_create_ktr.png",u="/mars/images/kettle/kettle_create_db.png",g="/mars/images/kettle/kettle_config_db.png",h="/mars/images/kettle/kettle_share_db.png",_="/mars/images/kettle/kettle_input_table.png",f="/mars/images/kettle/kettle_line_out.png",b="/mars/images/kettle/kettle_out_db.png",v="/mars/images/kettle/kettle_out_column.png",S="/mars/images/kettle/kettle_ktr_run.png",y="/mars/images/kettle/kettle_ktr_result.png",q="/mars/images/kettle/kettle_kjb.png",x="/mars/images/kettle/kettle_config_kjb.png",I="/mars/images/kettle/kettle_config_ktr.png",T="/mars/images/kettle/kettle_kjb_result.png",D={},z={class:"table-of-contents"};function O(A,e){const a=r("router-link");return m(),p("div",null,[e[11]||(e[11]=t("h1",{id:"kettle-入门",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#kettle-入门"},[t("span",null,"Kettle 入门")])],-1)),e[12]||(e[12]=t("p",null,[t("strong",null,"目录")],-1)),t("nav",z,[t("ul",null,[t("li",null,[l(a,{to:"#kettle-简介"},{default:n(()=>e[0]||(e[0]=[s("kettle 简介")])),_:1}),t("ul",null,[t("li",null,[l(a,{to:"#主要功能"},{default:n(()=>e[1]||(e[1]=[s("主要功能")])),_:1})])])]),t("li",null,[l(a,{to:"#kettle-安装"},{default:n(()=>e[2]||(e[2]=[s("kettle 安装")])),_:1}),t("ul",null,[t("li",null,[l(a,{to:"#下载-kettle"},{default:n(()=>e[3]||(e[3]=[s("下载 kettle")])),_:1})]),t("li",null,[l(a,{to:"#安装-kettle"},{default:n(()=>e[4]||(e[4]=[s("安装 kettle")])),_:1})]),t("li",null,[l(a,{to:"#修改内存"},{default:n(()=>e[5]||(e[5]=[s("修改内存")])),_:1})]),t("li",null,[l(a,{to:"#安装驱动"},{default:n(()=>e[6]||(e[6]=[s("安装驱动")])),_:1})]),t("li",null,[l(a,{to:"#启动-kettle"},{default:n(()=>e[7]||(e[7]=[s("启动 kettle")])),_:1})])])]),t("li",null,[l(a,{to:"#kettle-使用"},{default:n(()=>e[8]||(e[8]=[s("kettle 使用")])),_:1}),t("ul",null,[t("li",null,[l(a,{to:"#转换"},{default:n(()=>e[9]||(e[9]=[s("转换")])),_:1})]),t("li",null,[l(a,{to:"#作业"},{default:n(()=>e[10]||(e[10]=[s("作业")])),_:1})])])])])]),e[13]||(e[13]=o(`<h2 id="kettle-简介" tabindex="-1"><a class="header-anchor" href="#kettle-简介"><span>kettle 简介</span></a></h2><blockquote><ul><li>Kettle最早是一个开源的ETL（Extract-Transform-Load的缩写）工具，全称为KDE Extraction, Transportation, Transformation and Loading Environment。后来Kettle重命名为Pentaho Data Integration 。</li><li>它由Java开发，支持跨平台运行，其特性包括：支持100%无编码、拖拽方式开发ETL数据管道；可对接包括传统数据库、文件、大数据平台、接口、流数据等数据源；支持ETL数据管道加入机器学习算法。</li><li>Kettle是一个实现ETL开发的一款开发工具，Spoon是Kettle工具提供的图形化界面。</li></ul></blockquote><h3 id="主要功能" tabindex="-1"><a class="header-anchor" href="#主要功能"><span>主要功能</span></a></h3><p>Pentaho Data Integration作为一个端对端的数据集成平台，可以对多种数据源进行抽取(Extraction)、加载（Loading）、数据落湖（Data Lake Injection）、对数据进行各种清洗（Cleasing）、转换（Transformation）、混合（Blending），并支持多维联机分析处理（OLAP）和数据挖掘（Data mining）。</p><h2 id="kettle-安装" tabindex="-1"><a class="header-anchor" href="#kettle-安装"><span>kettle 安装</span></a></h2><h3 id="下载-kettle" tabindex="-1"><a class="header-anchor" href="#下载-kettle"><span>下载 kettle</span></a></h3><p><a href="https://pentaho.com/pentaho-developer-edition/" target="_blank" rel="noopener noreferrer">kettle 官网下载</a></p><p><a href="https://alidocs.dingtalk.com/uni-preview?extension=gz&amp;bizType=other&amp;cloudSpaceDentryId=148147060452&amp;cloudSpaceSpaceId=23220382950&amp;version=1&amp;scene=universalSpace&amp;mainsiteOrigin=mainsite&amp;spaceId=23220382950&amp;fileSize=1303934319&amp;dentryUuid=1R7q3QmWeenrO56AS9l0r5YzWxkXOEP2&amp;isMobile=false&amp;fileId=148147060452" target="_blank" rel="noopener noreferrer">kettle 钉钉分享下载</a></p><h3 id="安装-kettle" tabindex="-1"><a class="header-anchor" href="#安装-kettle"><span>安装 kettle</span></a></h3><p>使用 rar 、 zip 、7z 等解压工具，解压下载的 kettle.tar.gz 文件</p><p><strong>注意：</strong> kettle 运行需要 java 环境 ，java 环境（jdk安装）配置自行百度</p><h3 id="修改内存" tabindex="-1"><a class="header-anchor" href="#修改内存"><span>修改内存</span></a></h3><p>kettle 默认的初始内存很小，运行 kettle 时经常会内存溢出。修改 Spoon.bat 文件，找到<code>if &quot;%PENTAHO_DI_JAVA_OPTIONS%&quot;</code>部分</p><p>修改内容:</p><div class="language-bat line-numbers-mode" data-highlighter="prismjs" data-ext="bat" data-title="bat"><pre><code><span class="line">if &quot;%PENTAHO_DI_JAVA_OPTIONS%&quot;==&quot;&quot; set PENTAHO_DI_JAVA_OPTIONS=&quot;-Xms1024m&quot; &quot;-Xmx4096m&quot; &quot;-XX:MaxPermSize=256m&quot; &quot;-Dfile.encoding=UTF-8&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+d+'" alt="kettle 内存配置"></p><p>修改后内存后，如果使用时还报内存不足，根据具体情况适当增加<code>&quot;-Xms1024m&quot; &quot;-Xmx4096m&quot;</code>大小配置。</p><h3 id="安装驱动" tabindex="-1"><a class="header-anchor" href="#安装驱动"><span>安装驱动</span></a></h3><p>kettle 几乎支持所有主流数据库，但是驱动需要手动导入。</p><p>kettle 驱动路径：<code>data-integration\\lib</code></p><p>kettle 驱动可以通过 maven 中央仓库获取，如 <a href="https://mvnrepository.com/artifact/mysql/mysql-connector-java" target="_blank" rel="noopener noreferrer">mysql 驱动</a>、<a href="https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc11" target="_blank" rel="noopener noreferrer">oracle 驱动</a></p><p>常见驱动包（钉钉下载地址）:</p><ul><li><a href="https://alidocs.dingtalk.com/uni-preview?extension=jar&amp;bizType=other&amp;cloudSpaceDentryId=150506606929&amp;cloudSpaceSpaceId=23220382950&amp;version=1&amp;scene=universalSpace&amp;mainsiteOrigin=mainsite&amp;spaceId=23220382950&amp;fileSize=1555682&amp;dentryUuid=gpG2NdyVX3enAm5PtX7ygn0kWMwvDqPk&amp;isMobile=false&amp;fileId=150506606929" target="_blank" rel="noopener noreferrer">ojdbc8 驱动</a></li><li><a href="https://alidocs.dingtalk.com/uni-preview?extension=jar&amp;bizType=other&amp;cloudSpaceDentryId=150506634592&amp;cloudSpaceSpaceId=23220382950&amp;version=1&amp;scene=universalSpace&amp;mainsiteOrigin=mainsite&amp;spaceId=23220382950&amp;fileSize=5132090&amp;dentryUuid=1DKw2zgV2P5r0n2zFKvRzQ5D8B5r9YAn&amp;isMobile=false&amp;fileId=150506634592" target="_blank" rel="noopener noreferrer">ojdbc11 驱动</a></li><li><a href="https://alidocs.dingtalk.com/uni-preview?extension=jar&amp;bizType=other&amp;cloudSpaceDentryId=150506567425&amp;cloudSpaceSpaceId=23220382950&amp;version=1&amp;scene=universalSpace&amp;mainsiteOrigin=mainsite&amp;spaceId=23220382950&amp;fileSize=872303&amp;dentryUuid=gpG2NdyVX3enAm5PtX7yXa34WMwvDqPk&amp;isMobile=false&amp;fileId=150506567425" target="_blank" rel="noopener noreferrer">mysql5 驱动</a></li><li><a href="https://alidocs.dingtalk.com/uni-preview?extension=jar&amp;bizType=other&amp;cloudSpaceDentryId=150506487489&amp;cloudSpaceSpaceId=23220382950&amp;version=1&amp;scene=universalSpace&amp;mainsiteOrigin=mainsite&amp;spaceId=23220382950&amp;fileSize=2385601&amp;dentryUuid=P0MALyR8klv4AG6eIkDZ3ey5W3bzYmDO&amp;isMobile=false&amp;fileId=150506487489" target="_blank" rel="noopener noreferrer">mysql8 驱动</a></li></ul><h3 id="启动-kettle" tabindex="-1"><a class="header-anchor" href="#启动-kettle"><span>启动 kettle</span></a></h3><p>打开<code>data-integration</code>目录，windows 端双击 Spoon.bat 启动</p><p><img src="'+c+'" alt="启动成功"></p><h2 id="kettle-使用" tabindex="-1"><a class="header-anchor" href="#kettle-使用"><span>kettle 使用</span></a></h2><p>使用前需要理解转换和作业。</p><ul><li>转换主要是针对数据的各种处理，一个转换里可以包含多个步骤（Step）。</li><li>作业是比转换更高一级的处理流程，一个作业里包括多个作业项（Job Entry），一个作业项代表了一项工作，转换也是一个作业项。</li></ul><h3 id="转换" tabindex="-1"><a class="header-anchor" href="#转换"><span>转换</span></a></h3><p>通过一个简单例子，实现两个数据库的表数据同步</p><ol><li>创建转换</li></ol><p><img src="'+k+'" alt="创建转换"></p><ol start="2"><li>创建 DB 连接</li></ol><p><img src="'+u+'" alt="创建 db 连接"></p><p>填写配置，点击测试，测试通过后点击确认，完成 DB 连接</p><p><img src="'+g+'" alt="配置 db"></p><p>共享 DB 连接，方便全局使用</p><p><img src="'+h+'" alt="共享 db"></p><ol start="3"><li>表输入</li></ol><p><img src="'+_+'" alt="表输入"></p><ol start="4"><li>表输入</li></ol><p><img src="'+f+'" alt="表输出"></p><p>目标数据库</p><p><img src="'+b+'" alt="目标数据库"></p><p>字段映射</p><p><img src="'+v+'" alt="字段映射"></p><ol start="5"><li>测试数据</li></ol><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>demo<span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>test<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="6"><li>运行</li></ol><p><img src="'+S+'" alt="运行"></p><p>查看结果</p><p><img src="'+y+'" alt="结果"></p><h3 id="作业" tabindex="-1"><a class="header-anchor" href="#作业"><span>作业</span></a></h3><ol><li>创建作业</li></ol><p><img src="'+q+'" alt="创建作业"></p><ol start="2"><li>编写作业</li></ol><p><img src="'+x+'" alt="编写作业"></p><ol start="3"><li>配置转换</li></ol><p><img src="'+I+'" alt="配置转换"></p><ol start="4"><li>运行作业</li></ol><p><img src="'+T+'" alt="运行作业"></p>',62))])}const j=i(D,[["render",O],["__file","01-入门.html.vue"]]),P=JSON.parse('{"path":"/docs/kettle/01-%E5%85%A5%E9%97%A8.html","title":"Kettle 入门","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"kettle 简介","slug":"kettle-简介","link":"#kettle-简介","children":[{"level":3,"title":"主要功能","slug":"主要功能","link":"#主要功能","children":[]}]},{"level":2,"title":"kettle 安装","slug":"kettle-安装","link":"#kettle-安装","children":[{"level":3,"title":"下载 kettle","slug":"下载-kettle","link":"#下载-kettle","children":[]},{"level":3,"title":"安装 kettle","slug":"安装-kettle","link":"#安装-kettle","children":[]},{"level":3,"title":"修改内存","slug":"修改内存","link":"#修改内存","children":[]},{"level":3,"title":"安装驱动","slug":"安装驱动","link":"#安装驱动","children":[]},{"level":3,"title":"启动 kettle","slug":"启动-kettle","link":"#启动-kettle","children":[]}]},{"level":2,"title":"kettle 使用","slug":"kettle-使用","link":"#kettle-使用","children":[{"level":3,"title":"转换","slug":"转换","link":"#转换","children":[]},{"level":3,"title":"作业","slug":"作业","link":"#作业","children":[]}]}],"git":{"updatedTime":1734338014000,"contributors":[{"name":"wangxiaoquan","email":"wxq","commits":1}]},"filePathRelative":"docs/kettle/01-入门.md"}');export{j as comp,P as data};
